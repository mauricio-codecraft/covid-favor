<app-header progressRate=1.0></app-header>
<ion-content class="ion-padding " style="--offset-top:0px; --offset-bottom:0px;">
  <ion-grid id="grid">
    <p class="page__title">Mural</p>
    <h4 class="page__description">Você pode escolher visualizar os pedidos de ajuda ou os favores que as pessoas estão dispostas a realizar. Você pode escoher um pedido para atender, é simples e rápido.</h4>
    <div class="page__label"></div>
    <ion-row class="ion-no-padding ">
      <ion-col (click)="selfPickup = true" class="radio-container " size="6" tappable="">
        <img *ngIf="selfPickup" src="../../assets/radio-selected.svg">
        <img *ngIf="!selfPickup" src="../../assets/radio.svg">
        <p>Ofertas de Ajuda</p>
      </ion-col>
      <ion-col (click)="selectDeliveryInQatar()" class="radio-container " size="6" tappable="">
        <img *ngIf="!selfPickup" src="../../assets/radio-selected.svg">
        <img *ngIf="selfPickup" src="../../assets/radio.svg">
        <p>Pedidos de Ajuda</p>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="selfPickup">
      <!-- Minhas Ofertas -->
      <h4 class="page__description">Minhas Ofertas</h4>
      <ion-col *ngFor="let offer of myOffers" class="selectableItem" (click)="selectItem($event)" class="delivery-cart" size="12">
        <img src="../../assets/store-img.svg">
        <div><b>{{offer.user}} - {{offer.city}} - {{offer.neighbourhood}}</b>
          <small>{{offer.description}}</small>
          <b>Contato: {{offer.phoneNumber}}</b>
        </div>
        <input type="hidden" class="offerId" name="offerId" [value]="offer.id"/>
        <input type="hidden" class="isOwner" name="isOwner" [value]="offer.isOwner"/>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="selfPickup">
      <!-- Outras Ofertas -->
      <h4 class="page__description">Outras Ofertas</h4>
      <ion-col *ngFor="let offer of otherOffers" class="selectableItem" (click)="selectItem($event)" class="delivery-cart" size="12">
        <img src="../../assets/store-img.svg">
        <div><b>{{offer.user}} - {{offer.city}} - {{offer.neighbourhood}}</b>
          <small>{{offer.description}}</small>
          <b>Contato: {{offer.phoneNumber}}</b>
        </div>
        <input type="hidden" class="offerId" name="offerId" [value]="offer.id"/>
        <input type="hidden" class="isOwner" name="isOwner" [value]="offer.isOwner"/>
      </ion-col>
    </ion-row>   
    <form [formGroup]="deliveryInQatarForm" (ngSubmit)="onSubmit()" class="ng-pristine ng-invalid ng-touched">
      <ion-row *ngIf="!selfPickup">
        <ion-col class="pick-location-container ion-text-center " size="12">
          <img src="../../assets/google-map.png"><b>Pin my location in Map</b>
        </ion-col>
        <p class="or-address">Or enter your address</p>
        <ion-col size="12">
          <input class="form-control" (keyup)="enableContinueButton()" formControlName="fullAddress" type="text" placeholder="Full Address"></ion-col>
        <ion-col size="12">
          <input class="form-control" (keyup)="enableContinueButton()" formControlName="city" type="text" placeholder="City"></ion-col>
        <ion-col size="12">
          <input class="form-control" (keyup)="enableContinueButton()" formControlName="deliveryInstructions" type="text" placeholder="Delivery Instructions"></ion-col>
      </ion-row>
    </form>
  </ion-grid>
  <ion-infinite-scroll threshold="100px" id="infinite-scroll">
    <ion-infinite-scroll-content loading-spinner="bubbles" loading-text="Loading more data...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
<!--<app-cart #footer></app-cart>-->
